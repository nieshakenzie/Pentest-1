# Pentest-1

Link Downloads Machine : https://drive.google.com/file/d/1WM0hv4gu1nlqEK4davXxYLKYESGVxqZ_/view?usp=sharing

# Information Gathering and Scanning

<img src="https://user-images.githubusercontent.com/67650329/150494457-6957cf74-5bfd-4ea8-850b-26aa773db89d.png" width="385px" align="center">

I used NMAP to scan the target.

Machine IP : 192.168.172.133.

NMAP scan IP found :

• 192.168.172.1 : Default Admin Login.

• 192.168.172.2 : Private IP Address.

• 192.168.172.133 : My Machine IP.

• 192.168.172.134 : Target IP Machine.

• 192.168.172.254 : VMware IP.

<img src="https://user-images.githubusercontent.com/67650329/150496578-4b68b335-eb52-4140-a188-40a6aedde844.png" width="385px" align="center">

NMAP Command I use :

• - O : Determine the operating system.

• - p- :specify the range of ports for checking.

• - sV : Performs version detection for the services.

NMAP scan found port and services :

• Port 21 : Reserved port in TCP/IP networking

• Port 22 : ssh

• Port 80 : Assigned to commonly used internet communication protocol

• Port 4357 :  Apache2 Ubuntu Default Page

• Port 8155 : Website

• Port 9518 : Transmission Control Protocol

• Port 47021 : Forbidden

I search the IP and I got the login username and password

<img src="https://user-images.githubusercontent.com/67650329/150498523-fe9a7426-89c3-43ef-aeda-1ba92f894ec5.png" width="385px" align="center">

We can register for the website,
and we can login for this website.

<img src="https://user-images.githubusercontent.com/67650329/150499032-9e649e3f-a75c-4fa9-b7e0-3013545c4d6b.png" width="385px" align="center">

We have successfully entered the website.

# Gaining Access

Maybe we can check using ` ' or 1=1#` on login page.

<img src="https://user-images.githubusercontent.com/67650329/150499794-bba55596-7604-47ef-865e-bcc3056a609e.png" width="385px" align="center">

and can't to use because need to use email address,
so we can use burpsuite for requesting packet.

<img src="https://user-images.githubusercontent.com/67650329/150499980-e2dd13a8-b7e6-4f18-bdad-c1bab4aa954a.png" width="385px" align="center">

Change your email into ` ' or 1=1#` and `Click forward second times`.

<img src="https://user-images.githubusercontent.com/67650329/150500110-12bb97b0-1139-47c8-ac0d-b0eb2401614e.png" width="385px" align="center">

And we get in user testing, we can sql injection this machine or website.
let's go, i will use sqlmap tools.

`sqlmap -u http://192.168.172.134:8155/index.php?url=http://192.168.172.134/ --data "email=asd%40asd.com&password=asd&login=" -p email`

<img src="https://user-images.githubusercontent.com/67650329/150500821-7027e7e1-71f5-4246-a49b-a7e6245c32d9.png" width="385px" align="center">

I got the `available databases`, so we can check 1 by 1.

`sqlmap -u http://192.168.172.134:8155/index.php?url=http://192.168.172.134/ --data "email=asd%40asd.com&password=asd&login=" -p email -D cpforum --tables`

<img src="https://user-images.githubusercontent.com/67650329/150501009-bd1d0bb9-1d44-4f06-abfa-428a78275ec6.png" width="385px" align="center">

I got databases of `cpforum`, we can check it 1 by 1.

`sqlmap -u http://192.168.172.134:8155/index.php?url=http://192.168.172.134/ --data "email=asd%40asd.com&password=asd&login=" -p email -D cpforum -T users --dump`

<img src="https://user-images.githubusercontent.com/67650329/150501190-d14fa3b9-2ce4-4c78-9d04-ec56fb5df0a1.png" width="385px" align="center">

Now i get databases table `users` so maybe we can do ssh for this.

<img src="https://user-images.githubusercontent.com/67650329/150501356-5b4e50d4-e6f0-4e33-a200-597685ff527e.png" width="385px" align="center">

The correct user its `ast@gmail.com` and the password `Qu3sti0n!`.
Now im in the Target Machine.
so what i can do?, hmmm.
maybe i can dump the cpforum.sql, but i need the password for root

I can check 1 by 1 file i hope i get for the short time.

<img src="https://user-images.githubusercontent.com/67650329/150501901-b2b2e0f7-5593-43a8-90ba-7a4e9e2fe1bf.png" width="385px" align="center">

I got it for the long time in directory `/etc/apache2/sites-enabled`.
and i see DocumentRoot maybe this document save the password of root,
`/var/www/NPTTrainingOnline/Admin`

<img src="https://user-images.githubusercontent.com/67650329/150502326-f48f7c36-b4f0-4bec-841e-ee8d87a538a5.png" width="385px" align="center">

And now i got it the password of root.
now i can do mysqldump to get the file.

<img src="https://user-images.githubusercontent.com/67650329/150502607-3d675339-cba4-4361-b5e5-b9c2f22cb5d2.png" width="385px" align="center">

Yea, done. now lets move the file into my Kali Linux Machine.

<img src="https://user-images.githubusercontent.com/67650329/150502729-18973277-8a65-47f7-adf6-5be27a17cf24.png" width="385px" align="center">

So and Done i got the file.

`Thank You`

